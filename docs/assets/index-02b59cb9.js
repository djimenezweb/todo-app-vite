(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(t){if(t.ep)return;t.ep=!0;const c=o(t);fetch(t.href,c)}})();const i=localStorage,h=document.getElementById("form"),u=document.getElementById("form__input"),m=document.getElementById("todo-list"),I=document.getElementById("filter__clear"),k=document.getElementById("filter__all"),E=document.getElementById("filter__active"),y=document.getElementById("filter__completed"),_=document.getElementById("itemsLeft"),a=document.getElementById("toggle-mode");let b=i.getItem("dark"),s=JSON.parse(i.getItem("localStorage")),S=[],A=[];const g=e=>{document.querySelector(".filter__item--active").classList.remove("filter__item--active"),e.classList.add("filter__item--active")},f=()=>{i.setItem("localStorage",JSON.stringify(s))},p=()=>{_.textContent=s.filter(e=>!e.checked).length+" "},B=e=>{m.innerHTML="",m.append(e)},d=e=>{const n=document.createDocumentFragment();e.forEach(o=>{const r=document.createElement("div"),t=document.createElement("input"),c=document.createElement("label"),l=document.createElement("img");l.src="../../public/icon-cross.svg",l.classList.add("close-icon"),t.type="checkbox",t.checked=o.checked,t.id=o.id,t.classList.add("task__input"),c.htmlFor=o.id,c.classList.add("task__label"),c.textContent=o.task,r.classList.add("task"),r.append(t),r.append(c),r.append(l),n.append(r)}),B(n),p()},O=e=>{const n=Date.now(),o={};o.id=n,o.task=e,o.checked=!1,s.push(o),d(s),f()},w=e=>{s=s.filter(o=>o.id!==e),d(s),f()},F=e=>{s.forEach(n=>{n.id===Number(e)&&(n.checked=!n.checked)}),p(),f()},N=()=>{s=s.filter(n=>!n.checked),d(s),f()},L=(e,n)=>{n=s.filter(r=>r.checked===e),d(n)};I.addEventListener("click",()=>{N()});y.addEventListener("click",()=>{g(y),L(!0,A)});E.addEventListener("click",()=>{g(E),L(!1,S)});k.addEventListener("click",()=>{g(k),d(s)});m.addEventListener("click",e=>{e.target.classList.contains("close-icon")&&w(Number(e.target.previousSibling.htmlFor))});m.addEventListener("change",e=>{F(e.target.id)});h.addEventListener("submit",e=>{e.preventDefault(),u.value!==""&&O(u.value),u.value=""});const C=()=>{document.body.classList.remove("dark"),a.src="assets/images/icon-moon.svg",a.dataset.icon="moon",i.setItem("dark","false")},v=()=>{document.body.classList.add("dark"),a.src="assets/images/icon-sun.svg",a.dataset.icon="sun",i.setItem("dark","true")};a.addEventListener("click",()=>{a.dataset.icon==="moon"?v():C()});b&&v();s?d(s):(s=[],i.setItem("localStorage","[]"));p();
