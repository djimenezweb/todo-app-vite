(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(t){if(t.ep)return;t.ep=!0;const c=r(t);fetch(t.href,c)}})();const h=""+new URL("icon-cross-37f00ffb.svg",import.meta.url).href,I=""+new URL("icon-moon-dadf6d0a.svg",import.meta.url).href,_=""+new URL("icon-sun-fc80f87a.svg",import.meta.url).href,i=localStorage,b=document.getElementById("form"),u=document.getElementById("form__input"),m=document.getElementById("todo-list"),S=document.getElementById("filter__clear"),k=document.getElementById("filter__all"),E=document.getElementById("filter__active"),L=document.getElementById("filter__completed"),w=document.getElementById("itemsLeft"),a=document.getElementById("toggle-mode");let A=i.getItem("dark"),o=JSON.parse(i.getItem("localStorage")),B=[],O=[];const g=e=>{document.querySelector(".filter__item--active").classList.remove("filter__item--active"),e.classList.add("filter__item--active")},f=()=>{i.setItem("localStorage",JSON.stringify(o))},p=()=>{w.textContent=o.filter(e=>!e.checked).length+" "},C=e=>{m.innerHTML="",m.append(e)},d=e=>{const n=document.createDocumentFragment();e.forEach(r=>{const s=document.createElement("div"),t=document.createElement("input"),c=document.createElement("label"),l=document.createElement("img");l.src=h,l.classList.add("close-icon"),t.type="checkbox",t.checked=r.checked,t.id=r.id,t.classList.add("task__input"),c.htmlFor=r.id,c.classList.add("task__label"),c.textContent=r.task,s.classList.add("task"),s.append(t),s.append(c),s.append(l),n.append(s)}),C(n),p()},F=e=>{const n=Date.now(),r={};r.id=n,r.task=e,r.checked=!1,o.push(r),d(o),f()},N=e=>{o=o.filter(r=>r.id!==e),d(o),f()},D=e=>{o.forEach(n=>{n.id===Number(e)&&(n.checked=!n.checked)}),p(),f()},T=()=>{o=o.filter(n=>!n.checked),d(o),f()},y=(e,n)=>{n=o.filter(s=>s.checked===e),d(n)};S.addEventListener("click",()=>{T()});L.addEventListener("click",()=>{g(L),y(!0,O)});E.addEventListener("click",()=>{g(E),y(!1,B)});k.addEventListener("click",()=>{g(k),d(o)});m.addEventListener("click",e=>{e.target.classList.contains("close-icon")&&N(Number(e.target.previousSibling.htmlFor))});m.addEventListener("change",e=>{D(e.target.id)});b.addEventListener("submit",e=>{e.preventDefault(),u.value!==""&&F(u.value),u.value=""});const M=()=>{document.body.classList.remove("dark"),a.src=I,a.dataset.icon="moon",i.setItem("dark","false")},v=()=>{document.body.classList.add("dark"),a.src=_,a.dataset.icon="sun",i.setItem("dark","true")};a.addEventListener("click",()=>{a.dataset.icon==="moon"?v():M()});A&&v();o?d(o):(o=[],i.setItem("localStorage","[]"));p();
