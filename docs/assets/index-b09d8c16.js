(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerpolicy&&(c.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?c.credentials="include":t.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(t){if(t.ep)return;t.ep=!0;const c=s(t);fetch(t.href,c)}})();const a=localStorage,h=document.getElementById("form"),f=document.getElementById("form__input"),m=document.getElementById("todo-list"),b=document.getElementById("filter__clear"),k=document.getElementById("filter__all"),E=document.getElementById("filter__active"),y=document.getElementById("filter__completed"),I=document.getElementById("itemsLeft"),i=document.getElementById("toggle-mode");let _=a.getItem("dark"),o=JSON.parse(a.getItem("localStorage")),S=[],A=[];const g=e=>{document.querySelector(".filter__item--active").classList.remove("filter__item--active"),e.classList.add("filter__item--active")},u=()=>{a.setItem("localStorage",JSON.stringify(o))},p=()=>{I.textContent=o.filter(e=>!e.checked).length+" "},B=e=>{m.innerHTML="",m.append(e)},d=e=>{const n=document.createDocumentFragment();e.forEach(s=>{const r=document.createElement("div"),t=document.createElement("input"),c=document.createElement("label"),l=document.createElement("img");l.src="/public/images/icon-cross.svg",l.classList.add("close-icon"),t.type="checkbox",t.checked=s.checked,t.id=s.id,t.classList.add("task__input"),c.htmlFor=s.id,c.classList.add("task__label"),c.textContent=s.task,r.classList.add("task"),r.append(t),r.append(c),r.append(l),n.append(r)}),B(n),p()},O=e=>{const n=Date.now(),s={};s.id=n,s.task=e,s.checked=!1,o.push(s),d(o),u()},w=e=>{o=o.filter(s=>s.id!==e),d(o),u()},F=e=>{o.forEach(n=>{n.id===Number(e)&&(n.checked=!n.checked)}),p(),u()},N=()=>{o=o.filter(n=>!n.checked),d(o),u()},L=(e,n)=>{n=o.filter(r=>r.checked===e),d(n)};b.addEventListener("click",()=>{N()});y.addEventListener("click",()=>{g(y),L(!0,A)});E.addEventListener("click",()=>{g(E),L(!1,S)});k.addEventListener("click",()=>{g(k),d(o)});m.addEventListener("click",e=>{e.target.classList.contains("close-icon")&&w(Number(e.target.previousSibling.htmlFor))});m.addEventListener("change",e=>{F(e.target.id)});h.addEventListener("submit",e=>{e.preventDefault(),f.value!==""&&O(f.value),f.value=""});const C=()=>{document.body.classList.remove("dark"),i.src="/public/images/icon-moon.svg",i.dataset.icon="moon",a.setItem("dark","false")},v=()=>{document.body.classList.add("dark"),i.src="/public/images/icon-sun.svg",i.dataset.icon="sun",a.setItem("dark","true")};i.addEventListener("click",()=>{i.dataset.icon==="moon"?v():C()});_&&v();o?d(o):(o=[],a.setItem("localStorage","[]"));p();
